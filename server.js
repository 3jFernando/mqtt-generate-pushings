const mqtt = require('mqtt')
const client = mqtt.connect('mqtt://34.215.170.7/')

client.on('connect', function () {
  client.subscribe('SENDER/CLIENT', function (err) {

    if (!err) {
      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.061981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.162020,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 10)

      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.162981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.262030,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 1000)

      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.2613981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.362040,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 2000)

      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.364981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.462050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 3000)

      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.466981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.562050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 4000)
      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.566981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.662050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 5000)
      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.666981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.762050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 6000)
      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.766981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.862050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 7000)
      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.866981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-74.962050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 8000)
      setTimeout(() => {
        client.publish('SENDER/DEVICE', "PLVCTJ0R#94:MEC0574P3NP048052,0:3858337,10D:1,101:21897760,183:2472,12F:1459,24:2820,92:0,20:0.08;0.01;-0.73,21:-214.39;-73.24;23.65,25:18.78;-63.44;0.33,82:59.000000,11:230622,10:17005900,A:4.758154,B:-74.966981,C:2579.199951,D:2.000000,E:275,F:12,12:6,*6D::2022-06-23 12:01:02")
        client.publish('SENDER/DEVICE', "0000000#94:MEC0574P3NP048052,0:3852178,10D:2,104:41,183:2461,12F:1462,24:2820,92:0,20:0.22;0.03;-0.77,21:-273.13;-222.02;11.44,25:20.80;-64.21;-2.52,82:59.000000,11:230622,10:17005300,A:5.758147,B:-75.000050,C:2579.899902,D:1.900000,E:355,F:12,12:6,*5A::2022-06-23 12:00:56")
      }, 9000)
    }
  })
})

client.on('message', function (topic, message) {
  // message is Buffer
  console.log(message.toString())
  client.end()
})